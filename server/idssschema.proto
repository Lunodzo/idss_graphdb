syntax = "proto3";

import "google/protobuf/timestamp.proto";

option go_package = "idss/graphdb";

message QueryManager{
    int32 id_query = 1; // Autoincrement
    int64 uqid = 2; // Unique Query ID, generated by the client
    string query = 3; // Query in eliasdb
    int64 ttl = 4; // Time to live in seconds
    google.protobuf.Timestamp arrived_at = 5; // Timestamp when the query arrived
    string sender_id = 6; // Client ID
    int32 local_execution = 7; // 0 = false, 1 = true
    bool completed = 8; // 0 = false, 1 = true
    bool sent_back = 9; // 0 = false, 1 = true
    bool failed = 10; // 0 = false, 1 = true
}

message Client{
    int32 client_id = 1;
    string client_name = 2;
    int64 contract_number = 3;
    int32 power = 4;
}

message Consumption{
    google.protobuf.Timestamp timestamp = 1;
    double measurement = 2;
    Client client = 3;
}